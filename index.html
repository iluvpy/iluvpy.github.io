<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mio ama didi</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Single+Day&display=swap" rel="stylesheet">
    <style>

        * {
            margin: 0;
            padding: 0;
            color: white;
        }
        
        body {
            background-color: #313131;
        }
        
        .main-text {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 30%;
            height: auto;
           
        
            transform: translate(-50%, -50%);
            text-align: center;
            font-size: 2rem;
              
        }
        
        .single-day-regular {
            font-family: "Single Day", cursive;
            font-weight: 400;
            font-style: normal;
          }
    </style>

    <script>

        class Emoji {
            constructor(element) {
                this.created = Date.now();
                this.element = element;
            }
        }


        function randInt(min, max) {
            return parseInt(Math.random() * (max - min) + min);
        }

        var lastAdd = Date.now();
        var heart_emojis = ["ðŸ’—",
                            "ðŸ’“",
                            "ðŸ’•",
                            "ðŸ©·",
                            "ðŸ§¡",
                            "ðŸ’›",
                            "ðŸ’š",
                            "ðŸ’™",
                            "ðŸ©µ",
                            "ðŸ’œ"];
        var emojis = new Array();
        var emojis_per_second = 50;
        
        window.addEventListener("mousemove", mousemove, true);
        function mousemove(event) {
            var now = Date.now();
            if (now - lastAdd > 1000/emojis_per_second) {
                const new_emoji = document.createElement("h4", )
                let t = document.createTextNode(heart_emojis[randInt(0, heart_emojis.length - 1)]);
                new_emoji.appendChild(t);
                new_emoji.style.position = "absolute";
                let random_x = randInt(-25, 25);
                let random_y = randInt(-25, 25);
                new_emoji.style.left = event.clientX + random_x + "px";
                new_emoji.style.top = event.clientY + random_y + "px";
                new_emoji.style.opacity = "1.0";

                document.body.appendChild(new_emoji);
                let emoji = new Emoji(new_emoji);
                emojis.push(emoji);
                lastAdd = Date.now();
            }
        }
        
        function loop() {        
            emojis.forEach(e => {
                if (Date.now() - e.created > 50) { 
                    e.element.style.opacity = parseFloat(e.element.style.opacity) - 0.02;
                }
                e.element.style.top = parseInt(e.element.style.top) + 1 + "px";
            })
            emojis = emojis.filter(e => {return parseFloat(e.element.style.opacity) >= 0.0});
            setTimeout(loop, 20);
        };
        loop();

    </script>
</head>
<body>
    <div class="main-text single-day-regular">
        Mio ama DidiðŸ’•
    </div>
</body>
</html>
